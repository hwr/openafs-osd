<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3//EN">
<HTML><HEAD>
<TITLE>管理解説書</TITLE>
<!-- Begin Header Records  ========================================== -->
<!-- C:\IDWB\TEMP\idwt1068\AUARF000.SCR converted by idb2h R4.2 (359) -->
<!-- ID Workbench Version (OS2) on 24 Dec 1999 at 21:46:04            -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Shift_JIS">
<META HTTP-EQUIV="updated" CONTENT="Fri, 24 Dec 1999 21:46:02">
<META HTTP-EQUIV="review" CONTENT="Sun, 24 Dec 2000 21:46:02">
<META HTTP-EQUIV="expires" CONTENT="Mon, 24 Dec 2001 21:46:02">
</HEAD><BODY>
<!-- (C) IBM Corporation 2000. All Rights Reserved    -->
<BODY bgcolor="ffffff">
<!-- End Header Records  ============================================ -->
<A NAME="Top_Of_Page"></A>
<H1>管理解説書</H1>
<P>
<H2><A NAME="HDRVOS_SYNCVLDB" HREF="auarf002.htm#ToC_291">vos syncvldb</A></H2>
<A NAME="IDX5846"></A>
<A NAME="IDX5847"></A>
<A NAME="IDX5848"></A>
<A NAME="IDX5849"></A>
<A NAME="IDX5850"></A>
<A NAME="IDX5851"></A>
<A NAME="IDX5852"></A>
<A NAME="IDX5853"></A>
<A NAME="IDX5854"></A>
<P><STRONG>目的</STRONG>
<P>指定されたサイトに常駐するボリュームの VLDB 項目を検査します。
<P><STRONG>構文</STRONG>
<PRE><B>vos syncvldb</B> [<B>-server</B> &lt;<VAR>machine name</VAR>>]  [<B>-partition</B> &lt;<VAR>partition name</VAR>>]
             [<B>-volume</B> &lt;<VAR>volume name or ID</VAR>>]  [<B>-cell</B> &lt;<VAR>cell name</VAR>>]  [<B>-noauth</B>]
             [<B>-localauth</B>]  [<B>-verbose</B>]  [<B>-help</B>]

<B>vos syncv</B> [<B>-s</B> &lt;<VAR>machine name</VAR>>]  [<B>-p</B> &lt;<VAR>partition name</VAR>>]  [<B>-vo</B> &lt;<VAR>volume name or ID</VAR>>]
          [<B>-c</B> &lt;<VAR>cell name</VAR>>]  [<B>-n</B>]  [<B>-l</B>]  [<B>-ve</B>]  [<B>-h</B>]
</PRE>
<P><STRONG>構文</STRONG>
<P><B>vos syncvldb</B> コマンドは、
<B>-server</B> 引き数で指定されたファイル・サーバー・マシン上の任意の区画、または、<B>-server</B> および <B>-partition</B> 引き数で指定された区画のいずれかに含まれる、ボリュームの状況が VLDB に正しく記録されていることを検査します。単一ボリュームを指示する <B>-volume</B> 引き数が組み込まれている場合、このコマンドは、そのファイル・サーバー・マシンの状況をその VLDB 項目と比較するだけです。
<P><B>-volume</B> 引き数が組み込まれていない場合、コマンド・インタープリターは、ボリューム・サーバーから各区画に常駐するボリュームのリストを取得し、区画の状況を反映するように、必要に応じて VLDB の情報を変更します。たとえば、
VLDB 項目が欠落または不完全であるボリュームを検出すると、
VLDB 項目を作成または更新します。ただし、ボリュームに対して別のロケーションを定義する VLDB 項目が既に存在するか、他の VLDB 項目と矛盾がある場合、代わりに、矛盾に関するメッセージを標準エラー・ストリームに書き込みます。このコマンドは、ファイル・サーバー・マシンからボリュームを削除しません。
<P>VLDB の整合性を完全に保つには、セル内のすべてのファイル・サーバー・マシン上でこのコマンドを実行してから、セル内のすべてのファイル・サーバー・マシン上で <B>vos syncserv</B> コマンドを実行します。
<P>基本的に、<B>-volume</B> 引き数を使用すると、単一ボリュームの場合、このコマンドの効果が <B>vos syncserv</B> コマンドの効果と結合されます。このコマンドは、
VLDB 項目が指定されたボリューム・タイプ (読み取り / 書き込み、バックアップ、または読み取り専用) に対して正しいことを検査するだけではなく、
VLDB 項目に記述されている関連ボリューム・タイプがいずれも項目内にリストされているサイトに実際に存在することも検査します。のentry
<B>-server</B> 引き数 (および、オプションで <B>-partition</B> 引き数) を指定する必要はありません。一方または両方が指定されている場合、結果に信頼性があるのは、これらの引き数が、
<B>-volume</B> 引き数で指定されたボリュームの実際のロケーションを指定している場合だけです。
<P><STRONG>オプション </STRONG>
<DL>
<P><DT><B>-server
</B><DD>VLDB 項目を検査するボリュームのあるファイル・サーバー・マシンを指定します。マシンの IP アドレスまたはホスト名 (完全修飾名またはあいまいでない省略形) を指定します。詳細については、<B>vos</B> コマンド・セットの解説ページを参照してください。
<P><DT><B>-partition
</B><DD>VLDB 項目を検査するボリュームのある区画を指定します。この引き数と一緒に <B>-server</B> 引き数を指定します。名前の前にスラッシュを付けて完全な区画名を指定するか (たとえば、<B>/vicepa</B>)、または使用可能な 3 つの省略形のいずれかを使用してください。詳細については、<B>vos</B> コマンド・セットの解説ページを参照してください。
<P><DT><B>-volume
</B><DD>VLDB 項目を検査する単一ボリュームの名前またはボリューム ID 番号を指定します。この引き数は、
<B>-server</B> (および、オプションで <B>-partition</B>) 引き数と組み合わせることができます。
<P><DT><B>-cell
</B><DD>コマンドを実行するセルを指定します。この引き数は、
<B>-localauth</B> フラグと一緒に使用してはなりません。詳細については、<B>vos</B> の解説ページを参照してください。
<P><DT><B>-noauth
</B><DD>コマンドの発行側に非特権 ID <B>anonymous</B> を割り当てます。このフラグは <B>-localauth</B> フラグと一緒に使用してはなりません。詳細については、<B>vos</B> の解説ページを参照してください。
<P><DT><B>-localauth
</B><DD>ローカルの <B>/usr/afs/etc/KeyFile</B> ファイルのキーを使用して、サーバー・チケットを構成します。相互認証の間、<B>vos</B> コマンド・インタープリターは、ボリューム・サーバーおよびボリューム・ロケーション・サーバーに、このチケットを提供します。このフラグは、<B>-cell</B> 引き数、または <B>-noauth</B> フラグと一緒に使用してはなりません。詳細については、<B>vos</B> の解説ページを参照してください。
<P><DT><B>-verbose
</B><DD>標準出力ストリームに、コマンド実行の詳細なトレースを出力します。この引き数を省略すると、警告およびエラー・メッセージだけが表示されます。
<P><DT><B>-help
</B><DD>このコマンドのオンライン・ヘルプを出力します。これ以外の有効なオプションはすべて無視されます。
</DL>
<P><STRONG>例</STRONG>
<P>次の例のコマンドは、ファイル・サーバー・マシン <B>fs4.example.com</B> に格納されている各ボリュームごとの VLDB 項目を検査します。
<PRE>   % <B>vos syncvldb fs4.example.com</B>

</PRE>
<P><STRONG>必要となる特権</STRONG>
<P>コマンドの発行側は、<B>-server</B> 引き数に指定されたマシン、および各データベース・サーバー・マシン上の <B>/usr/afs/etc/UserList</B> ファイルにリストされていなければなりません。<B>-localauth</B> フラグを使用する場合には、コマンドの発行側が、ローカル・スーパーユーザー <B>root</B> として、サーバー・マシンにログオンする必要があります。
<P><STRONG>関連情報 </STRONG>
<P><A HREF="auarf252.htm#HDRVOS_INTRO">vos</A>
<P><A HREF="auarf276.htm#HDRVOS_SYNCSERV">vos syncserv</A>
<P>
<P><HR><B>&#91; <A HREF="#Top_Of_Page">ページのトップ</A> &#124; <A HREF="auarf276.htm">前ページ</A> &#124; <A HREF="auarf278.htm">次ページ</A> &#124; <A HREF="auarf002.htm#ToC">目次</A> &#124; <A HREF="auarf284.htm#HDRINDEX">索引</A> &#93;</B>
<!-- Begin Footer Records  ========================================== -->
<P><HR><B>
<br>(C) <A HREF="http://www.ibm.com/">IBM Corporation 2000.</A>  All Rights Reserved
</B>
<!-- End Footer Records  ============================================ -->
<A NAME="Bot_Of_Page"></A>
</BODY></HTML>
