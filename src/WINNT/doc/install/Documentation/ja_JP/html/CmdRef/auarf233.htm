<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3//EN">
<HTML><HEAD>
<TITLE>管理解説書</TITLE>
<!-- Begin Header Records  ========================================== -->
<!-- C:\IDWB\TEMP\idwt1068\AUARF000.SCR converted by idb2h R4.2 (359) -->
<!-- ID Workbench Version (OS2) on 24 Dec 1999 at 21:46:04            -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Shift_JIS">
<META HTTP-EQUIV="updated" CONTENT="Fri, 24 Dec 1999 21:46:02">
<META HTTP-EQUIV="review" CONTENT="Sun, 24 Dec 2000 21:46:02">
<META HTTP-EQUIV="expires" CONTENT="Mon, 24 Dec 2001 21:46:02">
</HEAD><BODY>
<!-- (C) IBM Corporation 2000. All Rights Reserved    -->
<BODY bgcolor="ffffff">
<!-- End Header Records  ============================================ -->
<A NAME="Top_Of_Page"></A>
<H1>管理解説書</H1>
<P>
<H2><A NAME="HDRSCOUT" HREF="auarf002.htm#ToC_247">scout</A></H2>
<A NAME="IDX5447"></A>
<A NAME="IDX5448"></A>
<A NAME="IDX5449"></A>
<A NAME="IDX5450"></A>
<A NAME="IDX5451"></A>
<A NAME="IDX5452"></A>
<A NAME="IDX5453"></A>
<A NAME="IDX5454"></A>
<A NAME="IDX5455"></A>
<A NAME="IDX5456"></A>
<P><STRONG>目的</STRONG>
<P>ファイル・サーバー・プロセスをモニターします。
<P><STRONG>構文</STRONG>
<PRE><B>scout</B> [<B>initcmd</B>]  <B>-server</B> &lt;<VAR>FileServer name(s) to monitor</VAR>><SUP>+</SUP>
      [<B>-basename</B> &lt;<VAR>base server name</VAR>>]
      [<B>-frequency</B> &lt;<VAR>poll frequency, in seconds</VAR>>]  [<B>-host</B>]
      [<B>-attention</B> &lt;<VAR>specify attention (highlighting) level</VAR>><SUP>+</SUP>]
      [<B>-debug</B> &lt;<VAR>turn debugging output on to the named file</VAR>>]  [<B>-help</B>]

<B>scout</B> [<B>i</B>]  <B>-s</B> &lt;<VAR>FileServer name(s) to monitor</VAR>><SUP>+</SUP>
      [<B>-b</B> &lt;<VAR>base server name</VAR>>] [<B>-f</B> &lt;<VAR>poll frequency, in seconds</VAR>>]
      [<B>-ho</B>]  [<B>-a</B> &lt;<VAR>specify attention (highlighting) level</VAR>><SUP>+</SUP>]
      [<B>-d</B> &lt;<VAR>turn debugging output on to the named file</VAR>>]  [<B>-he</B>]
</PRE>
<P><STRONG>構文</STRONG>
<P><B>scout</B> コマンドは、
<B>-server</B> 引き数に指定された各マシンで実行中のファイル・サーバー・プロセスから集められた統計を表示します。
<B>出力</B>節では、統計の意味を説明し、コマンド・シェルにどのように示されるのかについて記述しています。これは、ウィンドウ・マネージャー・プログラムにより管理されるウィンドウであることが望ましいです。
<P><STRONG>注意</STRONG>
<P><B>scout</B> プログラムは、統計を表示するために使用する、<B>curses</B> グラフィックス・パッケージにアクセスできなければなりません。配布されている多くの UNIX には、標準ユーティリティーとして <B>curses</B> があります。
<P>端末をエミュレートするダム端末およびウィンドウ・システムの両方に、
<B>scout</B> プログラムの統計を表示することができます。表示画面は、反転表示およびカーソル・アドレス指定を使用しているので、表示環境では最適の表示機能がサポートされていなければなりません。また、TERM 環境変数に正しい端末タイプ、または実際のものに類似する特性を設定してください。AIX オペレーティング・システムを稼動するマシンで、端末の特性が類似する場合は、TERM の推奨値は、<B>vt100</B> です。他のオペレーティング・システムの場合は、<B>xterm</B>、<B>xterms</B>、<B>vt100</B>、<B>vt200</B>、および <B>wyse85</B> の中から選択することできます。
<P><STRONG>オプション </STRONG>
<DL>
<P><DT><B>initcmd
</B><DD>コマンドの AFS コマンド・パーサーの使用状況を調べます。これはオプションです。
<P><DT><B>-server
</B><DD>モニターするファイル・サーバー・プロセスを実行しているファイル・サーバー・マシンを指定します。<B>-basename</B> 引き数が使用されない場合は、各マシンの完全修飾ホスト名を指定してください。この場合は、すべての名前に共通なドメイン名サフィックス (基本名) を省略して、マシンに固有な部分のみを指定します。他のマシンとホスト名を区別する、ホスト名の最短省略フォームを使用することもできますが、レゾリューションが成功するかどうかは、コマンドが発行されるときに、ネーム・レゾリューション・サービス (ドメイン・ネーム・サービスまたはローカル・ホスト・テーブル) が使用可能かどうかによって決まります。
<P><DT><B>-basename
</B><DD><B>-server</B> 引き数で指定されたファイル・サーバー・マシン名すべてに共通の基本名 (ドメイン名) サフィックスを指定します。これは、自動的に追加されます。この引き数は通常、マシンが所属するセルの名前になります。各ファイル・サーバー・マシン名の識別部分とこのサフィックスを分離しているピリオドは不要ですが、サフィックス内にあるピリオドは指定してください。たとえば、
Example Corporation のセルの場合、正しい値は <B>.example.com</B> でなく、<B>example.com</B> です。
<P><DT><B>-frequency
</B><DD>ファイル・サーバー・プロセスにプローブする頻度を指定します。
<B>0</B> (ゼロ) より大きな値を秒数で指定します。デフォルトは 60 秒です。
<P><DT><B>-host
</B><DD>表示画面のバナー行で <B>scout</B> プログラムを実行しているマシン名を表示します。
<P><DT><B>-attention
</B><DD>それぞれ統計値としきい値の対から成る項目のリストを定義します。指定されたしきい値を統計値が超えると、画面上、強調表示 (反転表示) されます。ペアは任意の順序でリストします。許容値は以下のとおりです。
<UL>
<LI><B>conn</B> <VAR>connections</VAR>。統計を強調表示するクライアント・プロセスとのオープン接続数を示します。しきい値以下の値に戻ると、通常の表示に戻ります。デフォルトのしきい値はありません。
<P>
<P>許容値の例は、<B>conn 300</B> です。
</LI><LI><B>disk</B>。次のいずれかのタイプの値を取ります。
<UL>
<LI><B>disk</B> <VAR>blocks_free</VAR>。強調表示される残りの空き KB ブロック数を示します。統計値は、この値が再びしきい値以下になると、通常の表示に戻ります。デフォルトのしきい値はありません。
<P>
<P>許容値の例は、<B>disk 5000</B> です。
</LI><LI><B>disk</B> <VAR>percent_full</VAR><B>%</B>。強調表示されるディスク使用量をパーセンテージで示します。しきい値以下の値に戻ると、通常の表示に戻ります。デフォルトしきい値は 95% です。許容値は、
<B>0</B> から <B>99</B> までの範囲の整数で、その後にパーセント記号 (<B>%</B>) が続き、上記で説明した値とこのタイプの値を区別します。
<P>
<P>たとえば <B>disk 90%</B> です。
</LI></UL>
</LI><LI><B>fetch</B> <VAR>fetch_RPCs</VAR>。強調表示されるクライアント・プロセスからの RPC の取り出し累積数を示します。この統計値は、ファイル・サーバー・プロセスが再始動し、その時点で値がゼロに戻って初めて、通常の表示に戻ります。デフォルトのしきい値はありません。
<P>
<P>許容値の例: <B>fetch 6000000</B>
</LI><LI><B>store</B> <VAR>store_RPCs</VAR>。強調表示されるクライアント・プロセスからの RPC の保存累積数を示します。この統計値は、ファイル・サーバー・プロセスが再始動し、その時点で値がゼロに戻って初めて、通常の表示に戻ります。デフォルトのしきい値はありません。
<P>
<P>許容値の例: <B>store 200000</B>
</LI><LI><B>ws</B> <VAR>active_client_machines</VAR>。強調表示されるアクティブ・オープン接続のクライアント・マシン数を示します。アクティブ接続は、ファイル・サーバーおよびクライアントが最近の 15 分で通信をしている間に定義されます。しきい値以下の値に戻ると、通常の表示に戻ります。デフォルトのしきい値はありません。
<P>
<P>許容値の例: <B>ws 65</B>
</LI></UL>
<P><DT><B>-debug
</B><DD>デバッグ・トレースを書き込むファイルのパス名を指定します。部分的なパス名を指定すると、現行作業ディレクトリーとの相対位置で解釈されます。
<P><DT><B>-help
</B><DD>このコマンドのオンライン・ヘルプを出力します。これ以外の有効なオプションはすべて無視されます。
</DL>
<P><STRONG>出力</STRONG>
<P><B>scout</B> プログラムは、ウィンドウ操作環境が利用不能であれば、指示されたウィンドウまたは通常の画面のいずれかに統計を表示することができます。最適な結果を得るためには、ウィンドウまたは画面に反転表示による出力機能が必要です。
<P><B>scout</B> 画面には、バナー行、統計表示領域、メッセージ/プローブ行の 3 つの主要領域があります。
<P><B><I>バナー行</I></B>
<P>デフォルトでは、文字列 <TT>Scout</TT> は、ウィンドウまたは画面の上部のバナー行に表示されます。
2 つのオプション引き数は、以下のように、バナー行に追加情報を表示します。
<UL>
<LI><B>-host</B> フラグは、
<B>scout</B> プログラムが実行しているマシン名を表示します。上記のように、これは、複数のマシンで <B>scout</B> プログラムを実行中であるが、単一のマシンで結果を表示するときに役に立ちます。
<P>
<P>たとえば、
<B>-host</B> フラグを組み込んでいて、
<B>scout</B> プログラムがマシン <B>client1.example.com</B> で実行しているときは、バナー行には以下のように表示されます。
<P>
<PRE>   [client1.example.com] Scout

</PRE>
</LI><LI><B>-basename</B> 引き数は、バナー行に指示されたベース名を表示します。たとえば、<B>-basename example.com</B> 引き数を組み込んだ結果が、バナー行に以下のように表示されます。
<P>
<PRE>   Scout for example.com

</PRE>
</LI></UL>
<P><B><I>統計表示領域</I></B>
<P>この領域はウィンドウの大半を占めており、
<B>scout</B> プロセスが各ファイル・サーバーから収集した統計が表示されます。各プロセスが 1 行で表示されます。
<P>領域は 6 列から構成され、それぞれ以下の情報が表示されます。
<A NAME="IDX5457"></A>
<A NAME="IDX5458"></A>
<UL>
<LI><TT>Conn</TT>: 1 番目の列では、ファイル・サーバーおよびクライアント・マシン間でオープンしている RPC 接続数を表示します。この数は、<TT>Ws</TT> 列の数と等しいかそれ以上です (下記の 4 番目の項目を参照)。マシン上の各ユーザーごとに、同時にオープンしている複数の別接続をもつことが可能で、
1 つのクライアント・マシンで複数のユーザーを処理できるためです。
<A NAME="IDX5459"></A>
</LI><LI><TT>Fetch</TT>: 2 列目には、クライアント・マシンが、最新の開始以降、ファイル・サーバー・プロセスに作成した、フェッチ・タイプの RPC (フェッチ・データ、フェッチ・アクセス・リスト、およびフェッチ状況) の数が表示されます。この値は、ファイル・サーバーが再始動する度にゼロにリセットされます。
<A NAME="IDX5460"></A>
</LI><LI><TT>Store</TT>: 3 列目には、クライアント・マシンが、最新の開始以降、ファイル・サーバー・プロセスに作成した、保管タイプの RPC (保管データ、保管アクセス・リスト、および保管状況) の数が表示されます。この値は、ファイル・サーバーが再始動する度にゼロにリセットされます。
<A NAME="IDX5461"></A>
</LI><LI><TT>Ws</TT>: 4 列目には、最新の 15 分以内でファイル・サーバー・プロセスと通信しているクライアント・マシン数が表示されます (<TT>Ws</TT> は、ワークステーションのことです。このようなマシンを <I>活動状態の</I> と言います)。この数値は、単一クライアント・マシンが 1 つのファイル・サーバーと複数の接続をオープンできるため、1 番目 (<TT>Conn</TT>) の列の数値より小さくなる場合があります。
<A NAME="IDX5462"></A>
<A NAME="IDX5463"></A>
<A NAME="IDX5464"></A>
</LI><LI>5 番目のラベルがない列には、ファイル・サーバー・プロセスが実行されているファイル・サーバー・マシンの名前を表示します。
12 文字以内の名前は、すべて表示されます。これより長い名前は切り捨てられ、名前の最後の文字としてアスタリスク (<TT>*</TT>) が表示されます。<B>-basename</B> 引き数の使用は、切り捨てを回避するために有効な手段ですが、すべてのマシン名が共通文字列で終わる場合に限ります。
</LI><LI><TT>Disk attn</TT>: 6 番目の列では、ファイル・サーバー・マシン上の各 AFS ディスク区画で使用可能な KB ブロック数を表示します。
<A NAME="IDX5465"></A>
<A NAME="IDX5466"></A>
<A NAME="IDX5467"></A>
 各区画は以下のフォームで表示されます。
<P>
<PRE>   x:<VAR>free_blocks</VAR>

</PRE>
<P>
<P><TT>x</TT> は、区画名を示します。たとえば、<TT><B>a:8949</B></TT> は、<B>/vicepa</B> 区画に 8,949 個の 1 KB ブロックの空き領域があることを示します。使用可能なスペースは、最大 26 区画まで表示することができます。ウィンドウの幅が、1 行にすべての区画項目が表示できるほど広くない場合は、
<B>scout</B> プロセスにより、自動的に複数行作成され、
6 列目の下位区分列に区画項目をスタックします。
<P>
<P><TT>Disk</TT> <TT>attn</TT> 列のラベルは、強調表示される列項目のしきい値を示します。デフォルトのラベルは、次のとおりです。
<P>
<PRE>   Disk attn: > 95% used

</PRE>
<P>
<P>デフォルトで、<B>scout</B> プログラムは、
95% 以上一杯になった区画の項目を強調表示します。
</LI></UL>
<P>5 列目 (ファイル・サーバー・マシン名) を除くすべての列の場合、ある値を超えたことを示すために、列内の項目が強調表示されるように、オプションの <B>-attention</B> 引き数に値が設定されています。
5 列目および <TT>Disk attn</TT> 列の値だけは、デフォルトですでに強調表示されています。
<P><B>scout</B> プログラムがアクセスできないか、区画に関する情報を取得している場合、以下の例のようなメッセージを生成します。
<PRE>   サーバー fs1.example.com の区画 /vicepa の情報が取得できませんでした

</PRE>
<P><B><I>メッセージ / プローブ行</I></B>
<P><B>scout</B> 画面の最終行に、
<B>scout</B> プログラムが統計を取るためにファイル・サーバー・プロセスをプローブした回数が表示されています。最後のプローブで収集された統計は、統計表示領域に表示されます。
<B>-frequency</B> 引き数を使用すると、60 秒のデフォルトのプローブ頻度を変更することができます。
<P><STRONG>例</STRONG>
<P><I>AFS 管理の手引き</I> の監視ツールについての章を参照してください。ここでは、オプションのさまざまな組み合わせによる結果の表示を例示しています。
<P><STRONG>必要となる特権</STRONG>
<P>なし。
<P><STRONG>関連情報 </STRONG>
<P><A HREF="auarf059.htm#HDRAFSMONITOR">afsmonitor</A>
<P><A HREF="auarf169.htm#HDRFSTRACE_INTRO">fstrace</A>
<P>
<P><HR><B>&#91; <A HREF="#Top_Of_Page">ページのトップ</A> &#124; <A HREF="auarf232.htm">前ページ</A> &#124; <A HREF="auarf234.htm">次ページ</A> &#124; <A HREF="auarf002.htm#ToC">目次</A> &#124; <A HREF="auarf284.htm#HDRINDEX">索引</A> &#93;</B>
<!-- Begin Footer Records  ========================================== -->
<P><HR><B>
<br>(C) <A HREF="http://www.ibm.com/">IBM Corporation 2000.</A>  All Rights Reserved
</B>
<!-- End Footer Records  ============================================ -->
<A NAME="Bot_Of_Page"></A>
</BODY></HTML>
