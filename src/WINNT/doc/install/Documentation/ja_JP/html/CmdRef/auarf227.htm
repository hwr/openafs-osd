<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3//EN">
<HTML><HEAD>
<TITLE>管理解説書</TITLE>
<!-- Begin Header Records  ========================================== -->
<!-- C:\IDWB\TEMP\idwt1068\AUARF000.SCR converted by idb2h R4.2 (359) -->
<!-- ID Workbench Version (OS2) on 24 Dec 1999 at 21:46:04            -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Shift_JIS">
<META HTTP-EQUIV="updated" CONTENT="Fri, 24 Dec 1999 21:46:02">
<META HTTP-EQUIV="review" CONTENT="Sun, 24 Dec 2000 21:46:02">
<META HTTP-EQUIV="expires" CONTENT="Mon, 24 Dec 2001 21:46:02">
</HEAD><BODY>
<!-- (C) IBM Corporation 2000. All Rights Reserved    -->
<BODY bgcolor="ffffff">
<!-- End Header Records  ============================================ -->
<A NAME="Top_Of_Page"></A>
<H1>管理解説書</H1>
<P>
<H2><A NAME="HDRPTSERVER" HREF="auarf002.htm#ToC_241">ptserver</A></H2>
<A NAME="IDX5417"></A>
<A NAME="IDX5418"></A>
<A NAME="IDX5419"></A>
<A NAME="IDX5420"></A>
<A NAME="IDX5421"></A>
<P><STRONG>目的</STRONG>
<P>保護サーバーを初期化します。
<P><STRONG>構文</STRONG>
<PRE><B>ptserver</B> [<B>-database</B> &lt;<VAR>db path</VAR>>]  [<B>-p</B> &lt;<VAR>number of processes</VAR>>] [<B>-rebuildDB</B>]
         [<B>-enable_peer_stats</B>]  [<B>-enable_process_stats</B>]  [<B>-help</B>]
</PRE>
<P>このコマンドは、AFS コマンド・セットの構文規則に準拠していません。コマンド名およびすべてのオプション名は省略せずにすべて指定してください。
<P><STRONG>構文</STRONG>
<P><B>ptserver</B> コマンドは保護サーバーの初期化を行います。保護サーバーは、各データベース・サーバー・マシン上で実行されなければなりません。従来の構成では、バイナリー・ファイルは、ファイル・サーバー・マシンの <B>/usr/afs/bin</B> ディレクトリーにあります。
<P>通常 <B>ptserver</B> コマンドは、コマンド・シェル・プロンプトからは発行されず、
<B>bos create</B> コマンドを使用して、データベース・サーバー・マシンの、
<B>/usr/afs/local/BosConfig</B> ファイルに入れられます。このコマンドをコマンド・シェル・プロンプトで発行する場合には、発行者はローカルのスーパーユーザー <B>root</B> として、ファイル・サーバー・マシンにログオンしなければなりません。
<P>保護サーバーは以下のタスクを実行します。
<UL>
<LI>セル内の各ユーザーおよびグループの項目を含む保護データベースを保守する。データベースの管理には、<B>pts</B> コマンドを使用してください。
</LI><LI>新規ユーザー、マシン、およびグループ項目に AFS ID を割り振り、該当する名前に各 ID をマップする。
</LI><LI>ファイル・サーバーの要求に対して、現在の保護サブグループ (CPS) を生成する。
CPS は、ユーザーまたはマシンが属するグループすべてをリスト表示します。
</LI></UL>
<P><STRONG>オプション </STRONG>
<DL>
<P><DT><B>-database
</B><DD>保護データベース・ファイルが常駐する、代替ディレクトリーのパス名を指定します。拡張子 <B>.DB0</B> および、
<B>.DBSYS1</B> を付加した基本ファイル名で終わる、完全パス名を指定してください。たとえば、デフォルトのデータベース・ファイルに適した値は、
<B>/usr/afs/db/prdb</B> です。
<P><DT><B>-p
</B><DD>実行する負荷が低いサーバー・プロセス (LWP) の番号を設定します。
<B>3</B> から <B>16</B> までの範囲で、整数を指定します。デフォルト値は 3 です。
<P><DT><B>-rebuildDB
</B><DD>保護サーバー初期化の開始時に、保護データベースを再作成します。この引き数は、AFS 開発または製品サポート担当者に相談してから使用してください。
<P><DT><B>-enable_peer_stats
</B><DD>Rx 統計集合を活動化し、それらを保管するためのメモリーを割り振ります。別のマシンの特定の UDP ポートとの接続ごとに、送信または受信された RPC の各タイプ (FetchFile、
GetStatus など) のレコードが別々に保持されています。レコードを表示したり、ほかの方法でレコードにアクセスするには、
Rx Monitoring API を使用します。
<P><DT><B>-enable_process_stats
</B><DD>Rx 統計集合を活動化し、それらを保管するためのメモリーを割り振ります。送信または受信された RPC の各タイプ (FetchFile、GetStatus など) ごとに、レコードが別々に保持され、別のマシンへのすべての接続が集計されます。レコードを表示したり、ほかの方法でレコードにアクセスするには、
Rx Monitoring API を使用します。
<P><DT><B>-help
</B><DD>このコマンドのオンライン・ヘルプを出力します。これ以外の有効なオプションはすべて無視されます。
</DL>
<P><STRONG>例</STRONG>
<P>次の <B>bos create</B> コマンドは、マシン <B>fs3.example.com</B> 上で、
<B>ptserver</B> プロセスを作成するものです。ここで、コマンドが複数行で表示されているのは、ただ読みやすくするためです。
<PRE>   % <B>bos create -server fs3.example.com -instance ptserver</B>  \
                <B>-type simple -cmd /usr/afs/bin/ptserver</B>

</PRE>
<P><STRONG>必要となる特権</STRONG>
<P>シェル・プロンプトでコマンドを発行するためには、発行者はファイルのサーバー・マシン上でローカル・スーパーユーザー <B>root</B> としてログインする必要があります。通常は、<B>bos create</B> コマンドを発行して、プロセスの作成および開始を行います。
<P><STRONG>関連情報 </STRONG>
<P><A HREF="auarf016.htm#HDRBOSCONFIG">BosConfig</A>
<P><A HREF="auarf047.htm#HDRPRDBDB">prdb.DB0 および prdb.DBSYS1</A>
<P><A HREF="auarf098.htm#HDRBOS_CREATE">bos create</A>
<P><A HREF="auarf102.htm#HDRBOS_GETLOG">bos getlog</A>
<P><A HREF="auarf210.htm#HDRPTS_INTRO">pts</A>
<P>
<P><HR><B>&#91; <A HREF="#Top_Of_Page">ページのトップ</A> &#124; <A HREF="auarf226.htm">前ページ</A> &#124; <A HREF="auarf228.htm">次ページ</A> &#124; <A HREF="auarf002.htm#ToC">目次</A> &#124; <A HREF="auarf284.htm#HDRINDEX">索引</A> &#93;</B>
<!-- Begin Footer Records  ========================================== -->
<P><HR><B>
<br>(C) <A HREF="http://www.ibm.com/">IBM Corporation 2000.</A>  All Rights Reserved
</B>
<!-- End Footer Records  ============================================ -->
<A NAME="Bot_Of_Page"></A>
</BODY></HTML>
