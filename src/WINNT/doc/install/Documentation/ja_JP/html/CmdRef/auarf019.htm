<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3//EN">
<HTML><HEAD>
<TITLE>管理解説書</TITLE>
<!-- Begin Header Records  ========================================== -->
<!-- C:\IDWB\TEMP\idwt1068\AUARF000.SCR converted by idb2h R4.2 (359) -->
<!-- ID Workbench Version (OS2) on 24 Dec 1999 at 21:46:04            -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Shift_JIS">
<META HTTP-EQUIV="updated" CONTENT="Fri, 24 Dec 1999 21:46:02">
<META HTTP-EQUIV="review" CONTENT="Sun, 24 Dec 2000 21:46:02">
<META HTTP-EQUIV="expires" CONTENT="Mon, 24 Dec 2001 21:46:02">
</HEAD><BODY>
<!-- (C) IBM Corporation 2000. All Rights Reserved    -->
<BODY bgcolor="ffffff">
<!-- End Header Records  ============================================ -->
<A NAME="Top_Of_Page"></A>
<H1>管理解説書</H1>
<P>
<H2><A NAME="HDRCLI_CSDB" HREF="auarf002.htm#ToC_17">CellServDB (クライアント・バージョン)</A></H2>
<P><STRONG>目的</STRONG>
<A NAME="IDX3912"></A>
<A NAME="IDX3913"></A>
<A NAME="IDX3914"></A>
<A NAME="IDX3915"></A>
<A NAME="IDX3916"></A>
<A NAME="IDX3917"></A>
<A NAME="IDX3918"></A>
<A NAME="IDX3919"></A>
<P>マシンからアクセス可能なすべてのセルのデータベース・サーバー・マシンをリストします。
<P><STRONG>構文</STRONG>
<P>クライアント・バージョンの <B>CellServDB</B> ファイルは、ローカル・セルおよびローカル・クライアント・マシンがアクセス可能な外部セルにあるデータベース・サーバー・マシンをリストします。データベース・サーバー・マシンは、認証サーバー、バックアップ・サーバー、保護サーバー、およびボリューム・ロケーション (VL) サーバー (<B>kaserver</B>、<B>buserver</B>、<B>ptserver</B>、および <B>vlserver</B>) プロセスを実行します。これらのプロセスでは、セルの管理 AFS データベースが保守されています。
<P>キャッシュ・マネージャーおよびクライアント・マシンで稼動している他のプロセスは、次のような共有機能を実行するときに、セルのデータベース・サーバー・マシンのリストを使用します。
<UL>
<LI>ファイルの取り出し。キャッシュ・マネージャーは、VL サーバーと通信し、必要なファイルまたはディレクトリーを含むボリュームの位置を認識します。
</LI><LI>ユーザーの認証。クライアント側の認証プログラム (たとえば、AFS によって修正された login ユーティリティーまたは <B>klog</B> コマンド・インタープリター) は、認証サーバーに接続してサービス・チケットを受信します。AFS サーバー・プロセスは、これをユーザーが認証されたという証明として受信します。
</LI><LI>保護グループの作成。ユーザーが保護グループを作成したり、保護データベースの情報を要求したときに、<B>pts</B> コマンド・インタープリターは、保護サーバーと通信を行います。
</LI></UL>
<P>キャッシュ・マネージャーは初期化時に <B>CellServDB</B> ファイルを読み込み、次に再起動するときまで読み込みません。ローカル・マシンのユーザーがセルに正しくアクセスできるようにするには、セルにデータベース・マシンが追加されたり、セルから削除されたときに、このファイルを必ず更新する必要があります。再起動せずに、カーネル常駐のデータベース・サーバー・マシン・リストを更新する場合には、
<B>fs newcell</B> コマンドを使用してください。
<P><B>CellServDB</B> ファイルは ASCII 形式のファイルで、各 AFS クライアント・マシンの <B>/usr/vice/etc</B> ディレクトリーになければなりません。このファイルを作成および保守する場合には、テキスト・エディターを使用してください。各セルの項目は、次の形式で記述してください。
<UL>
<LI>最初の行は、左マージンから「より大きい」文字 (<B>&gt;</B>) で始まり、そのすぐ後ろに、セルの名前を続けます。間にスペースはいれません。必要であれば、コメントを続けることができます。いくつかスペースを入れて、その後に番号記号 (<B>#</B>) を置き、そのセルに関連する組織名などを入力してください。
</LI><LI>項目の 2 行目以降には、セルのデータベース・マシンの情報を次の形式で記述します。
<UL>
<LI>データベース・サーバー・マシンの IP アドレス (ドット付き 10 進数で)
</LI><LI>1 つ以上のスペース
</LI><LI>番号記号 (<B>#</B>)。この後にマシンの完全に限定されたホスト名を記述してください。間にスペースを入れる必要はありません。この番号記号があっても、このホスト名はコメントではありません。これは必須フィールドです。
</LI></UL>
</LI></UL>
<P>余分なブランク行や改行文字は入れないでください。最後の項目の後も同様です。このようなブランク行や改行文字があると、キャッシュ・マネージャーがファイルを読み取れず、カーネル・メモリーに格納できず、エラー・メッセージが表示される場合があります。
<P>AFS 製品サポート・グループは、外部セルからアクセス可能として登録されているすべてのセル内のデータベース・サーバー・マシンのリストを保守しています。セルの管理者がそのデータベース・サーバー・マシンを変更した場合には、通常 AFS 製品サポート・グループを使用して、その変更をこのファイルに反映させる必要があります。このファイルは、要求されている <B>CellServDB</B> 形式に準拠しているので、クライアント・マシンの <B>CellServDB</B> ファイルに適した形式になっています。このファイルへのアクセスを行う場合は、AFS 製品サポート・グループに連絡してください。
<P>クライアント・バージョンの <B>CellServDB</B> ファイルは、各 AFS サーバー・マシン上の <B>/usr/afs/etc</B> ディレクトリーにあるサーバー・バージョンとは異なります。クライアント・バージョンは、セル管理者がマシンのユーザーにアクセスを許可したい AFS セルのデータベース・サーバー・マシンをリストしますが、サーバー・バージョンはローカル・セルのデータベース・サーバー・マシンしかリストしません。
<P><STRONG>例</STRONG>
<P>次の例は、2 つのセルに対するクライアント <B>CellServDB</B> ファイルの項目と必要な形式を示しています。
<PRE>   >example.com    # Example Corporation
   192.12.105.2	        #db1.example.com
   192.12.105.3	        #db2.example.com
   192.12.107.3	        #db3.example.com
   >test.example.com    # Example Corporation Test Cell
   192.12.108.57        #testdb1.example.com
   192.12.108.55        #testdb2.example.com

</PRE>
<P><STRONG>関連情報 </STRONG>
<P><A HREF="auarf020.htm#HDRSV_CSDB">CellServDB (サーバー・バージョン)</A>
<P><A HREF="auarf154.htm#HDRFS_NEWCELL">fs newcell</A>
<P><A HREF="auarf200.htm#HDRKLOG">klog</A>
<P>
<P><HR><B>&#91; <A HREF="#Top_Of_Page">ページのトップ</A> &#124; <A HREF="auarf018.htm">前ページ</A> &#124; <A HREF="auarf020.htm">次ページ</A> &#124; <A HREF="auarf002.htm#ToC">目次</A> &#124; <A HREF="auarf284.htm#HDRINDEX">索引</A> &#93;</B>
<!-- Begin Footer Records  ========================================== -->
<P><HR><B>
<br>(C) <A HREF="http://www.ibm.com/">IBM Corporation 2000.</A>  All Rights Reserved
</B>
<!-- End Footer Records  ============================================ -->
<A NAME="Bot_Of_Page"></A>
</BODY></HTML>
