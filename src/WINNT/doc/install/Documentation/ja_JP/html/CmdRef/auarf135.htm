<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3//EN">
<HTML><HEAD>
<TITLE>管理解説書</TITLE>
<!-- Begin Header Records  ========================================== -->
<!-- C:\IDWB\TEMP\idwt1068\AUARF000.SCR converted by idb2h R4.2 (359) -->
<!-- ID Workbench Version (OS2) on 24 Dec 1999 at 21:46:04            -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Shift_JIS">
<META HTTP-EQUIV="updated" CONTENT="Fri, 24 Dec 1999 21:46:02">
<META HTTP-EQUIV="review" CONTENT="Sun, 24 Dec 2000 21:46:02">
<META HTTP-EQUIV="expires" CONTENT="Mon, 24 Dec 2001 21:46:02">
</HEAD><BODY>
<!-- (C) IBM Corporation 2000. All Rights Reserved    -->
<BODY bgcolor="ffffff">
<!-- End Header Records  ============================================ -->
<A NAME="Top_Of_Page"></A>
<H1>管理解説書</H1>
<P>
<H2><A NAME="HDRFS_CLEANACL" HREF="auarf002.htm#ToC_149">fs cleanacl</A></H2>
<A NAME="IDX4746"></A>
<A NAME="IDX4747"></A>
<A NAME="IDX4748"></A>
<A NAME="IDX4749"></A>
<A NAME="IDX4750"></A>
<A NAME="IDX4751"></A>
<A NAME="IDX4752"></A>
<P><STRONG>目的</STRONG>
<P>古くなった項目を ACL から削除します。
<P><STRONG>構文</STRONG>
<PRE><B>fs cleanacl </B>[<B>-path</B> &lt;<VAR>dir/file path</VAR>><SUP>+</SUP>]  [<B>-help</B>]

<B>fs cl</B> [<B>-p</B> &lt;<VAR>dir/file path</VAR>><SUP>+</SUP>]  [<B>-h</B>]
</PRE>
<P><STRONG>構文</STRONG>
<P><B>fs cleanacl</B> コマンドは、指定された各ディレクトリーまたはファイルのアクセス制御リスト (ACL) から、保護データベース項目を持たなくなったユーザーまたはグループを参照する項目をすべて削除します。
ACL に、名前の代わりに AFS のユーザーID 番号 (UID) のような項目が表示されるのは、ファイル・サーバーが保護データベース項目なしでは UID を名前に変換できないからです。
<P>この方法でアクセス制御リストをクリーニングすると、不適切な情報であふれることなく、また、再利用された AFS UID の新規所有者を、以前の所有者へのアクセスから防ぐこともできます。(いずれにせよ、UID の再利用は推奨されていないことに注意してください)。
<P><STRONG>オプション </STRONG>
<DL>
<P><DT><B>-path
</B><DD>ACL を消去する各ディレクトリーを指定します
(ファイル名を指定すると、そのファイルにあるディレクトリーの ACL を消去します)。この引き数を省略すると、現行作業ディレクトリーの ACL はクリーニングされます。
<P>
<P>各ディレクトリーへの読み取り / 書き込みパスを指定し、読み取り専用ボリュームを変更しようとして発生する障害を回避します。規則では、読み取り / 書き込みパスは、パス名の 2 番目のレベルのセル名の前にピリオドを入れて示します
(たとえば、<B>/afs/.example.com</B>)。ファイル・スペースを通る読み取り / 書き込みパスおよび読み取り専用パスの概念に関する詳細については、
<B>fs mkmount</B> 参照ページを参照してください。
<P><DT><B>-help
</B><DD>このコマンドのオンライン・ヘルプを出力します。これ以外の有効なオプションはすべて無視されます。
</DL>
<P><STRONG>出力</STRONG>
<P>ACL に古くなった項目がある場合には、次のメッセージが表示されます。
<PRE>   Access list for <VAR>dir/file path</VAR> is fine.

</PRE>
<P>それ以外の場合には、出力がヘッダーに続いて ACL の状態を報告します。
<PRE>   Access list for <VAR>dir/file path</VAR> is now

</PRE>
<P>同時に、クリーニングされたディレクトリーのファイルごとに以下のエラー・メッセージが表示されます。
<PRE>   fs: '<VAR>filename</VAR>': Not a directory

</PRE>
<P><STRONG>例</STRONG>
<P>次の例は、現行作業ディレクトリーと 2 つのサブディレクトリーにある
ACL のクリーニングを示します。2 番目のサブディレクトリーにのみ古くなった項目があります。
<PRE>   % <B>fs cleanacl -path . ./reports ./sources</B>
   Access list for . is fine.
   Access list for ./reports is fine.
   Access list for ./sources is now
   Normal rights:
      system:authuser rl
      pat rlidwka

</PRE>
<P><STRONG>必要となる特権</STRONG>
<P>発行者は、各ディレクトリーの ACL (または各ファイルの親ディレクトリーの ACL) での
<B>a</B> (<B>administer</B>) アクセス権が必要です。
ACL に表示されなくても、ディレクトリーの所有者および <B>system:administrators</B> グループのメンバーには、暗黙的にアクセス権が与えられています。
<P><STRONG>関連情報 </STRONG>
<P><A HREF="auarf148.htm#HDRFS_LISTACL">fs listacl</A>
<P><A HREF="auarf153.htm#HDRFS_MKMOUNT">fs mkmount</A>
<P>
<P><HR><B>&#91; <A HREF="#Top_Of_Page">ページのトップ</A> &#124; <A HREF="auarf134.htm">前ページ</A> &#124; <A HREF="auarf136.htm">次ページ</A> &#124; <A HREF="auarf002.htm#ToC">目次</A> &#124; <A HREF="auarf284.htm#HDRINDEX">索引</A> &#93;</B>
<!-- Begin Footer Records  ========================================== -->
<P><HR><B>
<br>(C) <A HREF="http://www.ibm.com/">IBM Corporation 2000.</A>  All Rights Reserved
</B>
<!-- End Footer Records  ============================================ -->
<A NAME="Bot_Of_Page"></A>
</BODY></HTML>
